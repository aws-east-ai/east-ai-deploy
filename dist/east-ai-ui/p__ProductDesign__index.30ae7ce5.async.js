"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[911],{65083:function(G,v,a){a.r(v);var T=a(15009),d=a.n(T),Z=a(99289),f=a.n(Z),C=a(5574),u=a.n(C),j=a(92296),I=a(79090),x=a(51042),U=a(90930),M=a(35312),R=a(9361),m=a(2453),y=a(97029),p=a(71230),n=a(15746),s=a(5298),_=a(31863),b=a(2519),t=a(66428),D=a(73360),k=a(3247),E=a(67294),e=a(85893),$=function(){var o=(0,M.useIntl)(),z=R.Z.useToken(),N=z.token,H=(0,E.useState)([]),B=u()(H,2),V=B[0],J=B[1],X=(0,E.useState)(!1),A=u()(X,2),L=A[0],P=A[1],Y=(0,E.useState)(),W=u()(Y,2),O=W[0],Q=W[1],q=(0,E.useState)("product_design"),K=u()(q,2),c=K[0],ee=K[1],ae=(0,E.useState)(512),S=u()(ae,2),se=S[0],te=S[1],re=(0,E.useState)(512),w=u()(re,2),ne=w[0],_e=w[1],ie=function(){var i=f()(d()().mark(function r(l){var g;return d()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return P(!0),l.prompt="3D product render, ".concat(l.prompt,", finely detailed, purism, ue 5, a computer rendering, minimalism, octane render, 4k"),O&&O.length>1&&(l.input_image=O),l.width||(l.width=se),l.height||(l.height=ne),h.next=7,(0,j.uu)(l);case 7:if(g=h.sent,!g.error){h.next=12;break}return m.ZP.error(g.error),P(!1),h.abrupt("return");case 12:J(g.images),P(!1);case 14:case"end":return h.stop()}},r)}));return function(l){return i.apply(this,arguments)}}(),le=function(r){console.log("Failed:",r)},oe=["euler_a","eular","heun","lms","dpm2","dpm2_a","ddim"],ue=["enhance","anime","photographic","digital-art","comic-book","fantasy-art","analog-film","neon-punk","isometric","low-poly","origami","line-art","craft-clay","cinematic","3d-model","pixel-art"],F={"512 x 512":[512,512],"768 x 768":[768,768],"1024 x 1024":[1024,1024],"576 x 384":[576,384],"640 x 384":[640,384],"704 x 384":[704,384],"1152 x 768":[1152,768],"1173 x 640":[1173,640],"320 x 704":[320,704],"448 x 576":[448,576],"768 x 1152":[768,1152]},de={prompt:"futuristic armchair",negative_prompt:"EasyNegative, (worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), cropped, text, jpeg artifacts, signature, watermark, username, sketch, cartoon, drawing, anime, duplicate, blurry, semi-realistic, out of frame, ugly, deformed",steps:30,sampler:"dpm2_a",seed:-1,height:512,width:512,count:1,model_id:"product_design",style_preset:"3d-model"},me=function(r){if(r.file.status==="uploading"){P(!0);return}r.file.status==="done"&&(r.file.response.success?Q(r.file.response.data):m.ZP.error(r.file.response.message),P(!1))},pe=function(r){var l=r.type==="image/jpeg"||r.type==="image/png"||r.type==="image/webp";l||m.ZP.error("You can only upload JPG/PNG file!");var g=r.size/1024/1024<5;return g||m.ZP.error("Image must smaller than 5MB!"),l&&g},ce=function(r){ee(r)},ge=function(r){var l=F[r];te(l[0]),_e(l[1])},he=(0,e.jsx)("div",{children:L?(0,e.jsx)(I.Z,{}):(0,e.jsx)(y.ZP,{icon:(0,e.jsx)(x.Z,{}),children:o.formatMessage({id:"pages.common.buttonUpload"})})});return(0,e.jsx)(U._z,{waterMarkProps:{content:""},children:(0,e.jsx)("div",{style:{color:N.colorTextHeading},children:(0,e.jsxs)(p.Z,{children:[(0,e.jsx)(n.Z,{span:8,children:(0,e.jsxs)(s.Z,{name:"basic",onFinish:ie,onFinishFailed:le,autoComplete:"off",layout:"vertical",initialValues:de,children:[(0,e.jsx)(s.Z.Item,{label:o.formatMessage({id:"pages.productDesign.modelId.title"}),name:"model_id",children:(0,e.jsxs)(_.Z,{onChange:ce,children:[(0,e.jsx)(_.Z.Option,{value:"product_design",children:o.formatMessage({id:"pages.productDesign.model.realityStyle"})}),(0,e.jsx)(_.Z.Option,{value:"bedrock_sdxl",children:o.formatMessage({id:"pages.productDesign.model.bedrockSDXL"})}),(0,e.jsx)(_.Z.Option,{value:"bedrock_titan",children:o.formatMessage({id:"pages.productDesign.model.bedrockTitan"})})]})}),c==="product_design"?(0,e.jsx)(s.Z.Item,{label:o.formatMessage({id:"pages.productDesign.inputImage.title"}),name:"input_image",valuePropName:"fieldList",children:(0,e.jsx)(b.Z,{name:"file",action:"/api/upload",className:"avatar-uploader",onChange:me,beforeUpload:pe,maxCount:1,showUploadList:!1,children:O?(0,e.jsx)("img",{src:"/api/s3-image/"+O,alt:"product image",style:{maxHeight:320,maxWidth:320}}):he})}):null,(0,e.jsx)(s.Z.Item,{label:o.formatMessage({id:"pages.productDesign.prompt.title"}),name:"prompt",rules:[{required:!0}],children:(0,e.jsx)(t.Z.TextArea,{showCount:!0,maxLength:500,allowClear:!0,style:{height:120}})}),(0,e.jsx)(s.Z.Item,{label:o.formatMessage({id:"pages.productDesign.nprompt.title"}),name:"negative_prompt",rules:[{required:!0}],children:(0,e.jsx)(t.Z.TextArea,{showCount:!0,maxLength:500,allowClear:!0,style:{height:120}})}),(0,e.jsxs)(p.Z,{children:[c==="bedrock_titan"?(0,e.jsx)(n.Z,{span:16,children:(0,e.jsx)(s.Z.Item,{label:o.formatMessage({id:"pages.productDesign.size.title"}),children:(0,e.jsx)(_.Z,{onChange:ge,children:Object.keys(F).map(function(i){return(0,e.jsx)(_.Z.Option,{value:i},i)})})})}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.Z,{span:8,children:(0,e.jsx)(s.Z.Item,{label:o.formatMessage({id:"pages.productDesign.width.title"}),name:"width",rules:[{required:!0}],children:(0,e.jsx)(D.Z,{min:128,max:1024})})}),(0,e.jsx)(n.Z,{span:8,children:(0,e.jsx)(s.Z.Item,{label:o.formatMessage({id:"pages.productDesign.height.title"}),name:"height",rules:[{required:!0}],children:(0,e.jsx)(D.Z,{min:128,max:1024})})})]}),(0,e.jsxs)(n.Z,{span:8,children:[c==="product_design"||c==="bedrock_titan"?(0,e.jsx)(s.Z.Item,{label:o.formatMessage({id:"pages.productDesign.count.title"}),name:"count",rules:[{required:!0}],children:(0,e.jsx)(D.Z,{min:1,max:4})}):null,c==="bedrock_sdxl"?(0,e.jsx)(s.Z.Item,{label:o.formatMessage({id:"pages.productDesign.stylePreset.title"}),name:"style_preset",children:(0,e.jsx)(_.Z,{children:ue.map(function(i){return(0,e.jsx)(_.Z.Option,{value:i,children:i},i)})})}):null]})]}),(0,e.jsx)(p.Z,{style:{display:"none"},children:(0,e.jsxs)(n.Z,{span:24,children:[(0,e.jsx)(s.Z.Item,{label:"\u79CD\u5B50",name:"seed",rules:[{required:!0,message:"\u79CD\u5B50!"}],children:(0,e.jsx)(D.Z,{})}),(0,e.jsx)(s.Z.Item,{label:"\u91C7\u6837\u5668",name:"sampler",rules:[{required:!0,message:"\u91C7\u6837\u5668!"}],children:(0,e.jsx)(_.Z,{children:oe.map(function(i){return(0,e.jsx)(_.Z.Option,{value:i,children:i},i)})})}),(0,e.jsx)(s.Z.Item,{label:"\u6B65\u6570",name:"steps",rules:[{required:!0,message:"\u6B65\u6570!"}],children:(0,e.jsx)(D.Z,{min:5,max:50})})]})}),(0,e.jsx)(s.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(y.ZP,{type:"primary",htmlType:"submit",disabled:L,children:o.formatMessage({id:"pages.common.buttonBeginGen"})})})]})}),(0,e.jsx)(n.Z,{span:1}),(0,e.jsx)(n.Z,{span:14,children:(0,e.jsxs)("div",{style:{width:"100%",borderRadius:4,margin:8},children:[L?(0,e.jsx)("div",{children:(0,e.jsx)(I.Z,{})}):null,V.map(function(i,r){return(0,e.jsx)(k.Z,{src:"data:image/png;base64,"+i,style:{maxWidth:320,maxHeight:320,border:"solid #fff 1px",margin:"10px",float:"left"}},r)})]})})]})})})};v.default=$},92296:function(G,v,a){a.d(v,{Tl:function(){return y},fN:function(){return R},uu:function(){return U}});var T=a(15009),d=a.n(T),Z=a(97857),f=a.n(Z),C=a(99289),u=a.n(C),j=a(35312);function I(n,s){return x.apply(this,arguments)}function x(){return x=_asyncToGenerator(_regeneratorRuntime().mark(function n(s,_){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(_objectSpread({},_||{})),t.abrupt("return",request("/api/write-marketing-text",_objectSpread({method:"POST",data:s},_||{})));case 2:case"end":return t.stop()}},n)})),x.apply(this,arguments)}function U(n,s){return M.apply(this,arguments)}function M(){return M=u()(d()().mark(function n(s,_){return d()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.model_id!="product_design"){t.next=2;break}return t.abrupt("return",(0,j.request)("/api/product-design",f()({method:"POST",data:s},_||{})));case 2:return t.abrupt("return",(0,j.request)("/api/bedrock-product-design",f()({method:"POST",data:s},_||{})));case 3:case"end":return t.stop()}},n)})),M.apply(this,arguments)}function R(n,s){return m.apply(this,arguments)}function m(){return m=u()(d()().mark(function n(s,_){return d()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,j.request)("/api/inpaint",f()({method:"POST",data:s},_||{})));case 1:case"end":return t.stop()}},n)})),m.apply(this,arguments)}function y(n,s){return p.apply(this,arguments)}function p(){return p=u()(d()().mark(function n(s,_){return d()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,j.request)("/api/agent",f()({method:"POST",data:s},_||{})));case 1:case"end":return t.stop()}},n)})),p.apply(this,arguments)}}}]);
