"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[742],{50228:function(R,d,s){s.d(d,{Z:function(){return l}});var i=s(1413),a=s(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 328a60 60 0 10120 0 60 60 0 10-120 0zM852 64H172c-17.7 0-32 14.3-32 32v660c0 17.7 14.3 32 32 32h680c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-32 660H204V128h616v596zM604 328a60 60 0 10120 0 60 60 0 10-120 0zm250.2 556H169.8c-16.5 0-29.8 14.3-29.8 32v36c0 4.4 3.3 8 7.4 8h729.1c4.1 0 7.4-3.6 7.4-8v-36c.1-17.7-13.2-32-29.7-32zM664 508H360c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"robot",theme:"outlined"},m=c,p=s(91146),n=function(_,g){return a.createElement(p.Z,(0,i.Z)((0,i.Z)({},_),{},{ref:g,icon:m}))};n.displayName="RobotOutlined";var l=a.forwardRef(n)},87547:function(R,d,s){s.d(d,{Z:function(){return l}});var i=s(1413),a=s(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},m=c,p=s(91146),n=function(_,g){return a.createElement(p.Z,(0,i.Z)((0,i.Z)({},_),{},{ref:g,icon:m}))};n.displayName="UserOutlined";var l=a.forwardRef(n)},92701:function(R,d,s){s.r(d);var i=s(15009),a=s.n(i),c=s(99289),m=s.n(c),p=s(5574),n=s.n(p),l=s(87547),y=s(79090),_=s(50228),g=s(90930),G=s(35312),N=s(9361),h=s(71230),t=s(15746),P=s(5298),J=s(66428),Q=s(97029),v=s(7134),j=s(67294),e=s(85893),Y=function(){var X=N.Z.useToken(),q=X.token,x=(0,G.useIntl)(),ee=(0,j.useState)([]),Z=n()(ee,2),E=Z[0],ue=Z[1],se=(0,j.useState)(""),A=n()(se,2),B=A[0],C=A[1],te=(0,j.useState)(""),U=n()(te,2),D=U[0],S=U[1],ae=(0,j.useState)(!1),I=n()(ae,2),L=I[0],K=I[1],ne=function(){var u=m()(a()().mark(function M(O){var f,W,z,H,F,V,$;return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return K(!0),f="",S(O.prompt),W=new TextDecoder,z="/api/bedrock-rag",r.next=7,fetch(z,{method:"POST",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify(O)});case 7:H=r.sent,F=H.body.getReader(),V=a()().mark(function de(){var T,w,k,b;return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,F.read();case 2:if(T=o.sent,w=T.value,k=T.done,!k){o.next=7;break}return o.abrupt("return","break");case 7:b=W.decode(w),console.log(b),f+=b,C(function(le){return le+b});case 11:case"end":return o.stop()}},de)});case 10:return r.delegateYield(V(),"t0",12);case 12:if($=r.t0,$!=="break"){r.next=15;break}return r.abrupt("break",17);case 15:r.next=10;break;case 17:K(!1),f=f.trim().replace(/^(<br\s*\/?>)*|(<br\s*\/?>)*$/gi,""),E.unshift([O.prompt,f]),S(""),C("");case 22:case"end":return r.stop()}},M)}));return function(O){return u.apply(this,arguments)}}(),re=function(M){console.log("Failed:",M)},ie={margin:4,borderRadius:4,background:"#333",padding:5,fontSize:"16pt"},oe={prompt:x.formatMessage({id:"pages.bedrockKB.prompt.defaultValue"})};return(0,e.jsx)(g._z,{waterMarkProps:{content:""},children:(0,e.jsxs)("div",{style:{color:q.colorTextHeading},children:[(0,e.jsx)("div",{style:{paddingLeft:"15px",paddingBottom:"20px"},children:(0,e.jsx)("h3",{children:"Powered by Amazon Bedrock Knowledge base."})}),(0,e.jsxs)(h.Z,{children:[(0,e.jsx)(t.Z,{span:8,children:(0,e.jsxs)(P.Z,{name:"basic",onFinish:ne,onFinishFailed:re,autoComplete:"off",layout:"vertical",initialValues:oe,children:[(0,e.jsx)(P.Z.Item,{label:x.formatMessage({id:"pages.bedrockKB.prompt.title"}),name:"prompt",rules:[{required:!0,message:x.formatMessage({id:"pages.bedrockKB.prompt.required"})}],children:(0,e.jsx)(J.Z.TextArea,{showCount:!0,maxLength:500,allowClear:!0,style:{height:180}})}),(0,e.jsx)(P.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(Q.ZP,{type:"primary",htmlType:"submit",disabled:L,children:x.formatMessage({id:"pages.common.buttonBeginGen"})})})]})}),(0,e.jsx)(t.Z,{span:1}),(0,e.jsx)(t.Z,{span:14,children:(0,e.jsx)("div",{style:{width:"100%",borderRadius:4,margin:8},children:(0,e.jsxs)("div",{style:ie,children:[E.length===0&&!D&&(0,e.jsxs)("div",{children:[x.formatMessage({id:"pages.bedrockKB.result.help"})," "]}),D&&(0,e.jsxs)(h.Z,{children:[(0,e.jsx)(t.Z,{flex:"1",style:{textAlign:"left",paddingLeft:100,margin:"8px 4px",fontSize:"16pt"},children:(0,e.jsx)("div",{style:{backgroundColor:"#666",width:"auto",padding:"5px",borderRadius:"4px",marginBottom:"25px"},children:D})}),(0,e.jsx)(t.Z,{flex:"40px",style:{textAlign:"center",marginTop:"8px"},children:(0,e.jsx)(v.C,{size:32,icon:(0,e.jsx)(l.Z,{})})})]}),L?(0,e.jsx)("div",{children:(0,e.jsx)(y.Z,{})}):null,B&&(0,e.jsxs)(h.Z,{children:[(0,e.jsx)(t.Z,{flex:"40px",style:{textAlign:"center",marginTop:"4px"},children:(0,e.jsx)(v.C,{size:32,icon:(0,e.jsx)(_.Z,{})})}),(0,e.jsx)(t.Z,{flex:"auto",style:{paddingRight:100,maxWidth:"90%",fontSize:"16pt",lineHeight:"1.5",marginBottom:"30px"},children:(0,e.jsx)("div",{dangerouslySetInnerHTML:{__html:B}})})]}),E.length>0&&E.map(function(u){return(0,e.jsxs)("div",{style:{marginBottom:10},children:[(0,e.jsxs)(h.Z,{justify:"end",children:[(0,e.jsx)(t.Z,{flex:"1",style:{textAlign:"left",paddingLeft:100,margin:"8px 4px",fontSize:"16pt"},children:(0,e.jsx)("div",{style:{backgroundColor:"#666",width:"auto",padding:"5px",borderRadius:"4px",marginBottom:"25px"},children:u[0]})}),(0,e.jsx)(t.Z,{flex:"40px",style:{textAlign:"center",marginTop:"8px"},children:(0,e.jsx)(v.C,{size:32,icon:(0,e.jsx)(l.Z,{})})})]}),(0,e.jsxs)(h.Z,{children:[(0,e.jsx)(t.Z,{flex:"40px",style:{textAlign:"center",marginTop:"4px"},children:(0,e.jsx)(v.C,{size:32,icon:(0,e.jsx)(_.Z,{})})}),(0,e.jsx)(t.Z,{flex:"auto",style:{paddingRight:100,maxWidth:"90%",fontSize:"16pt",lineHeight:"1.5",marginBottom:"30px"},children:(0,e.jsx)("span",{dangerouslySetInnerHTML:{__html:u[1]}})})]})]},u)})]})})})]})]})})};d.default=Y}}]);
